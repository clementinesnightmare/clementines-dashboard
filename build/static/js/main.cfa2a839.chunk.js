(this.webpackJsonphashlips_nft_minting_dapp=this.webpackJsonphashlips_nft_minting_dapp||[]).push([[0],{1318:function(e,t){},1383:function(e,t,n){},1384:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n(273),c=n.n(a),o=n(593),i=n(12),s=n(594),l=n(193),u=n(66),d=n(1),p=n.n(d),h=n(191),j=n(224),b=n.n(j),g=n(596),f=n.n(g),x=n(231),O=n(597),m=n(60),v={loading:!1,account:null,smartContract:null,web3:null,errorMsg:""},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONNECTION_REQUEST":return Object(m.a)(Object(m.a)({},v),{},{loading:!0});case"CONNECTION_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,account:t.payload.account,smartContract:t.payload.smartContract,web3:t.payload.web3});case"CONNECTION_FAILED":return Object(m.a)(Object(m.a)({},v),{},{loading:!1,errorMsg:t.payload});case"UPDATE_ACCOUNT":return Object(m.a)(Object(m.a)({},e),{},{account:t.payload.account});default:return e}},y={loading:!1,totalSupply:0,cost:0,error:!1,errorMsg:""},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHECK_DATA_REQUEST":return Object(m.a)(Object(m.a)({},e),{},{loading:!0,error:!1,errorMsg:""});case"CHECK_DATA_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,totalSupply:t.payload.totalSupply,error:!1,errorMsg:""});case"CHECK_DATA_FAILED":return Object(m.a)(Object(m.a)({},y),{},{loading:!1,error:!0,errorMsg:t.payload});default:return e}},w=Object(x.b)({blockchain:C,data:A}),E=[O.a],T=Object(x.c)(x.a.apply(void 0,E)),S=Object(x.d)(w,T),N=function(e){return{type:"CHECK_DATA_FAILED",payload:e}},R=function(){return function(){var e=Object(i.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CHECK_DATA_REQUEST"}),e.prev=1,e.next=4,S.getState().blockchain.smartContract.methods.totalSupply().call();case 4:n=e.sent,t({type:"CHECK_DATA_SUCCESS",payload:{totalSupply:n}}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),t(N("Could not load data from contract."));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},_=n(358),k=n(606),D=n.n(k),L={injected:{},walletconnect:{package:_.default,options:{infuraId:"0c6e3e7c585042f9aac96f45d526b95e"}}},I=new D.a({network:"mainnet",cacheProvider:!1,providerOptions:L});I.clearCachedProvider();var M,U,K,F,P,W,H,G,Y,B,z,V,Q,q,J,X,Z=function(e){return{type:"CONNECTION_FAILED",payload:e}},$=function(e){return function(){var t=Object(i.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"UPDATE_ACCOUNT",payload:{account:e}}),n(R());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ee=n(67),te=ee.a.div(M||(M=Object(u.a)(["\n  background-color: var(--primary);\n  background-image: ",";\n  background-size: cover;\n  background-position: center;\n  width: 100%;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n"])),(function(e){var t=e.image;return t?"url(".concat(t,")"):"none"})),ne=(ee.a.div(U||(U=Object(u.a)(["\n  height: 8px;\n  width: 8px;\n"]))),ee.a.div(K||(K=Object(u.a)(["\n  height: 16px;\n  width: 16px;\n"])))),re=ee.a.div(F||(F=Object(u.a)(["\n  height: 24px;\n  width: 24px;\n"]))),ae=(ee.a.div(P||(P=Object(u.a)(["\n  height: 32px;\n  width: 32px;\n"]))),ee.a.div(W||(W=Object(u.a)(["\n  display: flex;\n  flex: ",";\n  flex-direction: ",";\n  justify-content: ",";\n  align-items: ",";\n  background-color: ",";\n  width: 100%;\n  background-image: ",";\n  background-size: cover;\n  background-position: center;\n"])),(function(e){var t=e.flex;return t||0}),(function(e){var t=e.fd;return t||"column"}),(function(e){var t=e.jc;return t||"flex-start"}),(function(e){var t=e.ai;return t||"flex-start"}),(function(e){return e.test?"pink":"none"}),(function(e){var t=e.image;return t?"url(".concat(t,")"):"none"}))),ce=(ee.a.p(H||(H=Object(u.a)(["\n  color: var(--primary-text);\n  font-size: 22px;\n  font-weight: 500;\n  line-height: 1.6;\n"]))),ee.a.p(G||(G=Object(u.a)(["\n  color: var(--primary-text);\n  font-size: 18px;\n  line-height: 1.6;\n"]))),ee.a.p(Y||(Y=Object(u.a)(["\n  color: var(--primary-text);\n  font-size: 16px;\n  line-height: 1.6;\n"])))),oe=(ee.a.div(B||(B=Object(u.a)(["\n  :active {\n    opacity: 0.6;\n  }\n"]))),n(276)),ie=n(11),se=["Moralis","isInitialized"],le=ee.a.button(z||(z=Object(u.a)(["\n  width: 250px;\n  height: 62px;\n  cursor: pointer;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  border: none;\n  outline: none;\n  background-image:url('config/images/connect.png');\n"]))),ue=ee.a.button(V||(V=Object(u.a)(["\n  width: 250px;\n  height: 62px;\n  cursor: pointer;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  border: none;\n  outline: none;\n  background-image:url('config/images/wallet.png');\n  margin: 5px;\n"]))),de=ee.a.button(Q||(Q=Object(u.a)(["\n  width: 250px;\n  height: 62px;\n  cursor: pointer;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  border: none;\n  outline: none;\n  background-image:url('config/images/vault.png');\n  margin: 5px;\n"]))),pe=ee.a.div(q||(q=Object(u.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: stretched;\n  align-items: stretched;\n  width: 100%;\n  @media (min-width: 767px) {\n    flex-direction: row;\n  }\n"]))),he=ee.a.img(J||(J=Object(u.a)(["\n  width: 350px;\n  max-width: 100%;\n"])));ee.a.a(X||(X=Object(u.a)(["\n  color: var(--secondary);\n  text-decoration: none;\n"])));var je=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.blockchain})),n=(Object(h.c)((function(e){return e.data})),Object(r.useState)("")),a=Object(l.a)(n,2),c=a[0],u=a[1],d=Object(r.useState)(""),j=Object(l.a)(d,2),g=j[0],x=j[1],O=Object(r.useState)({CONTRACT_ADDRESS:"",SCAN_LINK:"",NETWORK:{NAME:"",SYMBOL:"",ID:0},NFT_NAME:"",SYMBOL:"",MARKETPLACE:"",MARKETPLACE_LINK:"",SHOW_BACKGROUND:!1,VAULT_ADDRESS:"",ULTRA_LEGENDS:[],LEGENDS:[],RARES:[],METADATA:[]}),m=Object(l.a)(O,2),v=m[0],C=m[1],y=Object(r.useState)([]),A=Object(l.a)(y,2),w=A[0],E=A[1],T=Object(r.useState)([]),S=Object(l.a)(T,2),N=S[0],_=S[1],k=Object(oe.b)(),D=k.Moralis,L=(k.isInitialized,Object(s.a)(k,se),function(){x("wallet"),u("Loading your wallet..."),t.smartContract.methods.walletOfOwner(t.account).call({to:v.CONTRACT_ADDRESS,from:t.account}).then(function(){var e=Object(i.a)(p.a.mark((function e(n){var r,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),r={address:v.VAULT_ADDRESS},a=t.account,e.prev=3,e.next=6,D.Web3API.resolve.resolveAddress(r);case 6:null!==(c=e.sent).name?c.name:t.account,Object(o.a)("displayName"),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:u("Welcome to the Neighborhood "+a+"!"),E(n.length>0?U(n):Object(ie.jsxs)("div",{children:[Object(ie.jsx)("p",{style:{marginBottom:"1em"},children:"You have no Clementine's Nightmare NFTs in this wallet."}),Object(ie.jsx)("p",{style:{margin:"1em"},children:"Visit the neighborhood on OpenSea!"}),Object(ie.jsx)("a",{href:v.MARKETPLACE_LINK,children:Object(ie.jsx)("img",{alt:"opensea",src:"/config/images/opensea.png"})})]}));case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}())}),M=function(e){for(var t=[],n=0;n<e.result.length;n++)try{var r=JSON.parse(e.result[n].metadata),a="";if("pixelatedink.eth"===r.name||"clementinesnightmare.eth"===r.name)continue;var c=e.result[n].token_address.toLowerCase()===v.CONTRACT_ADDRESS.toLowerCase()?"https://clementinesnightmare.mypinata.cloud/ipfs/":"https://ipfs.io/ipfs/";void 0!==r.image?a=r.image.replace("ipfs://",c):void 0!==r.image_url?a=r.image_url.replace("ipfs://",c):void 0!==r.animation_url&&(a=r.animation_url.replace("ipfs://",c)),t.push({id:n,url:a,name:r.name})}catch(o){console.log(o)}return t.map((function(e){return Object(ie.jsxs)("div",{style:{margin:"10px",backgroundColor:"var(--primary)",borderRadius:15},children:[e.url.includes(".mp4")?Object(ie.jsxs)("video",{width:"250",height:"250",alt:e.name,style:{borderTopRightRadius:15,borderTopLeftRadius:15},controls:!0,children:[Object(ie.jsx)("source",{src:e.url,type:"video/mp4"}),"Your browser does not support the video tag."]}):Object(ie.jsx)("img",{alt:e.name,src:e.url,width:"250px",height:"250px",style:{borderTopRightRadius:15,borderTopLeftRadius:15}}),Object(ie.jsx)("p",{style:{padding:"5px",color:e.color},children:e.name})]},e.id)}))},U=function(e){for(var t=[],n=0;n<e.length;n++){var r=parseInt(e[n],10),a=v.METADATA[r];t.push({id:r,url:a.image.replace("ipfs://","https://clementinesnightmare.mypinata.cloud/ipfs/"),name:a.name,color:K(r)})}return t.map((function(e){return Object(ie.jsxs)("div",{style:{margin:"10px",backgroundColor:"var(--primary)",borderRadius:15},children:[e.url.includes(".png")?Object(ie.jsx)("img",{alt:e.name,src:e.url,width:"250px",height:"250px",style:{borderTopRightRadius:15,borderTopLeftRadius:15}}):Object(ie.jsxs)("video",{width:"250",height:"250",alt:e.name,style:{borderTopRightRadius:15,borderTopLeftRadius:15},controls:!0,children:[Object(ie.jsx)("source",{src:e.url,type:"video/mp4"}),"Your browser does not support the video tag."]}),Object(ie.jsx)("p",{style:{padding:"5px",color:e.color},children:e.name})]},e.id)}))},K=function(e){return v.ULTRA_LEGENDS.includes(e)?"var(--ultra-text)":v.LEGENDS.includes(e)?"var(--legend-text)":v.RARES.includes(e)?"var(--rare-text)":"var(--primary-text)"},F=function(){""!==t.account&&null!==t.smartContract&&(e(R(t.account)),L())},P=function(){var e=Object(i.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/config/config.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,C(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){P()}),[]),Object(r.useEffect)((function(){F()}),[t.account]),Object(ie.jsx)(te,{children:Object(ie.jsxs)(ae,{flex:1,ai:"center",style:{padding:24,backgroundColor:"var(--primary)"},image:v.SHOW_BACKGROUND?"/config/images/bg.png":null,children:[Object(ie.jsx)(pe,{flex:1,children:Object(ie.jsxs)(ae,{flex:2,jc:"center",ai:"center",children:[Object(ie.jsx)(he,{alt:"logo",src:"/config/images/logo.png"}),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ne,{}),""===t.account||null===t.smartContract?Object(ie.jsxs)(ae,{ai:"center",jc:"center",children:[Object(ie.jsxs)(ce,{style:{textAlign:"center",color:"var(--accent-text)"},children:["Connect to ",v.NETWORK.NAME,"."]}),Object(ie.jsx)(ne,{}),Object(ie.jsx)(le,{onClick:function(t){t.preventDefault(),e(function(){var e=Object(i.a)(p.a.mark((function e(t){var n,r,a,c,o,i,s,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CONNECTION_REQUEST"}),e.next=3,fetch("/config/abi.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.next=9,fetch("/config/config.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 9:return a=e.sent,e.next=12,I.connect();case 12:return c=e.sent,e.next=15,a.json();case 15:if(o=e.sent,!c){e.next=35;break}return b.a.setProvider(c),i=new f.a(c),e.prev=19,e.next=22,i.eth.getAccounts();case 22:return s=e.sent,e.next=25,i.eth.net.getId();case 25:e.sent==o.NETWORK.ID?(l=new b.a(r,o.CONTRACT_ADDRESS),t({type:"CONNECTION_SUCCESS",payload:{account:s[0],smartContract:l,web3:i}}),c.on("accountsChanged",(function(e){t($(e[0]))})),c.on("chainChanged",(function(){window.location.reload()}))):t(Z("Change network to ".concat(o.NETWORK.NAME,"."))),e.next=33;break;case 29:e.prev=29,e.t0=e.catch(19),console.log(e.t0),t(Z("Something went wrong."));case 33:e.next=36;break;case 35:t(Z("Install Metamask."));case 36:case"end":return e.stop()}}),e,null,[[19,29]])})));return function(t){return e.apply(this,arguments)}}()),F()},children:" "}),""!==t.errorMsg?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ne,{}),Object(ie.jsx)(ce,{style:{textAlign:"center",color:"var(--accent-text)"},children:t.errorMsg})]}):null]}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(ae,{style:{flexFlow:"row wrap",maxWidth:"1200px",textAlign:"center",color:"var(--accent-text)"},ai:"center",jc:"center",fd:"row",children:[Object(ie.jsx)(ue,{disabled:"wallet"==g?1:0,onClick:function(e){e.preventDefault(),L()}}),Object(ie.jsx)(de,{disabled:"vault"==g?1:0,onClick:function(e){e.preventDefault(),function(){x("vault"),u("Loading vault...");var e={address:v.VAULT_ADDRESS};D.Web3API.account.getNFTs(e).then((function(e){console.log(e),u("Welcome to the Clementine's Nightmare Community Vault!"),_(e.result.length>0?M(e):Object(ie.jsx)("p",{children:"There are no NFTs in the vault."}))}))}()}})]}),Object(ie.jsx)(ne,{}),Object(ie.jsx)(ce,{style:{textAlign:"center",color:"var(--accent-text)"},children:c}),Object(ie.jsx)(ne,{}),"wallet"===g?Object(ie.jsx)(ae,{style:{flexFlow:"row wrap",maxWidth:"1200px",textAlign:"center",color:"var(--accent-text)"},ai:"center",jc:"center",fd:"row",children:w}):Object(ie.jsx)(ae,{style:{flexFlow:"row wrap",maxWidth:"1200px",textAlign:"center",color:"var(--accent-text)"},ai:"center",jc:"center",fd:"row",children:N})]})]}),Object(ie.jsx)(re,{})]})}),Object(ie.jsx)(re,{}),Object(ie.jsxs)(ce,{style:{textAlign:"center",color:"var(--accent-text)",lineHeight:"1.2em"},children:["COPYRIGHT \xa9 2021/2022.",Object(ie.jsx)("br",{}),"ALL RIGHTS RESERVED BY PIXELATED INK"]})]})})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1391)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};n(1383);c.a.render(Object(ie.jsx)(h.a,{store:S,children:Object(ie.jsx)(oe.a,{appId:"2WUT4CKa3t3Gs3yw8msHrSR4YYZIGfqPlb1N8qsh",serverUrl:"https://guj88dedqrr7.usemoralis.com:2053/server",children:Object(ie.jsx)(je,{})})}),document.getElementById("root")),be()},630:function(e,t){},633:function(e,t){},635:function(e,t){},639:function(e,t){},664:function(e,t){},666:function(e,t){},680:function(e,t){},682:function(e,t){},711:function(e,t){},713:function(e,t){},802:function(e,t){},803:function(e,t){},895:function(e,t){}},[[1384,1,2]]]);
//# sourceMappingURL=main.cfa2a839.chunk.js.map
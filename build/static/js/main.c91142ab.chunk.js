(this.webpackJsonphashlips_nft_minting_dapp=this.webpackJsonphashlips_nft_minting_dapp||[]).push([[0],{1317:function(e,t){},1382:function(e,t,n){},1383:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n(273),c=n.n(a),o=n(12),i=n(593),s=n(193),l=n(66),u=n(1),d=n.n(u),p=n(191),h=n(224),b=n.n(h),g=n(595),j=n.n(g),f=n(231),x=n(596),O=n(60),m={loading:!1,account:null,smartContract:null,web3:null,errorMsg:""},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONNECTION_REQUEST":return Object(O.a)(Object(O.a)({},m),{},{loading:!0});case"CONNECTION_SUCCESS":return Object(O.a)(Object(O.a)({},e),{},{loading:!1,account:t.payload.account,smartContract:t.payload.smartContract,web3:t.payload.web3});case"CONNECTION_FAILED":return Object(O.a)(Object(O.a)({},m),{},{loading:!1,errorMsg:t.payload});case"UPDATE_ACCOUNT":return Object(O.a)(Object(O.a)({},e),{},{account:t.payload.account});default:return e}},C={loading:!1,totalSupply:0,cost:0,error:!1,errorMsg:""},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHECK_DATA_REQUEST":return Object(O.a)(Object(O.a)({},e),{},{loading:!0,error:!1,errorMsg:""});case"CHECK_DATA_SUCCESS":return Object(O.a)(Object(O.a)({},e),{},{loading:!1,totalSupply:t.payload.totalSupply,error:!1,errorMsg:""});case"CHECK_DATA_FAILED":return Object(O.a)(Object(O.a)({},C),{},{loading:!1,error:!0,errorMsg:t.payload});default:return e}},w=Object(f.b)({blockchain:v,data:y}),A=[x.a],E=Object(f.c)(f.a.apply(void 0,A)),T=Object(f.d)(w,E),S=function(e){return{type:"CHECK_DATA_FAILED",payload:e}},k=function(){return function(){var e=Object(o.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CHECK_DATA_REQUEST"}),e.prev=1,e.next=4,T.getState().blockchain.smartContract.methods.totalSupply().call();case 4:n=e.sent,t({type:"CHECK_DATA_SUCCESS",payload:{totalSupply:n}}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),t(S("Could not load data from contract."));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},N=n(358),_=n(605),R=n.n(_),D={injected:{},walletconnect:{package:N.default,options:{infuraId:"0c6e3e7c585042f9aac96f45d526b95e"}}},L=new R.a({network:"mainnet",cacheProvider:!1,providerOptions:D});L.clearCachedProvider();var I,M,K,U,F,W,P,H,G,Y,B,z,V,Q,q,J,X=function(e){return{type:"CONNECTION_FAILED",payload:e}},Z=function(e){return function(){var t=Object(o.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"UPDATE_ACCOUNT",payload:{account:e}}),n(k());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},$=n(67),ee=$.a.div(I||(I=Object(l.a)(["\n  background-color: var(--primary);\n  background-image: ",";\n  background-size: cover;\n  background-position: center;\n  width: 100%;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n"])),(function(e){var t=e.image;return t?"url(".concat(t,")"):"none"})),te=($.a.div(M||(M=Object(l.a)(["\n  height: 8px;\n  width: 8px;\n"]))),$.a.div(K||(K=Object(l.a)(["\n  height: 16px;\n  width: 16px;\n"])))),ne=$.a.div(U||(U=Object(l.a)(["\n  height: 24px;\n  width: 24px;\n"]))),re=($.a.div(F||(F=Object(l.a)(["\n  height: 32px;\n  width: 32px;\n"]))),$.a.div(W||(W=Object(l.a)(["\n  display: flex;\n  flex: ",";\n  flex-direction: ",";\n  justify-content: ",";\n  align-items: ",";\n  background-color: ",";\n  width: 100%;\n  background-image: ",";\n  background-size: cover;\n  background-position: center;\n"])),(function(e){var t=e.flex;return t||0}),(function(e){var t=e.fd;return t||"column"}),(function(e){var t=e.jc;return t||"flex-start"}),(function(e){var t=e.ai;return t||"flex-start"}),(function(e){return e.test?"pink":"none"}),(function(e){var t=e.image;return t?"url(".concat(t,")"):"none"}))),ae=($.a.p(P||(P=Object(l.a)(["\n  color: var(--primary-text);\n  font-size: 22px;\n  font-weight: 500;\n  line-height: 1.6;\n"]))),$.a.p(H||(H=Object(l.a)(["\n  color: var(--primary-text);\n  font-size: 18px;\n  line-height: 1.6;\n"]))),$.a.p(G||(G=Object(l.a)(["\n  color: var(--primary-text);\n  font-size: 16px;\n  line-height: 1.6;\n"])))),ce=($.a.div(Y||(Y=Object(l.a)(["\n  :active {\n    opacity: 0.6;\n  }\n"]))),n(276)),oe=n(11),ie=["Moralis","isInitialized"],se=$.a.button(B||(B=Object(l.a)(["\n  width: 250px;\n  height: 62px;\n  cursor: pointer;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  border: none;\n  outline: none;\n  background-image:url('config/images/connect.png');\n"]))),le=$.a.button(z||(z=Object(l.a)(["\n  width: 250px;\n  height: 62px;\n  cursor: pointer;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  border: none;\n  outline: none;\n  background-image:url('config/images/wallet.png');\n  margin: 5px;\n"]))),ue=$.a.button(V||(V=Object(l.a)(["\n  width: 250px;\n  height: 62px;\n  cursor: pointer;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  border: none;\n  outline: none;\n  background-image:url('config/images/vault.png');\n  margin: 5px;\n"]))),de=$.a.div(Q||(Q=Object(l.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: stretched;\n  align-items: stretched;\n  width: 100%;\n  @media (min-width: 767px) {\n    flex-direction: row;\n  }\n"]))),pe=$.a.img(q||(q=Object(l.a)(["\n  width: 350px;\n  max-width: 100%;\n"])));$.a.a(J||(J=Object(l.a)(["\n  color: var(--secondary);\n  text-decoration: none;\n"])));var he=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.blockchain})),n=(Object(p.c)((function(e){return e.data})),Object(r.useState)("")),a=Object(s.a)(n,2),c=a[0],l=a[1],u=Object(r.useState)(""),h=Object(s.a)(u,2),g=h[0],f=h[1],x=Object(r.useState)({CONTRACT_ADDRESS:"",SCAN_LINK:"",NETWORK:{NAME:"",SYMBOL:"",ID:0},NFT_NAME:"",SYMBOL:"",MARKETPLACE:"",MARKETPLACE_LINK:"",SHOW_BACKGROUND:!1,VAULT_ADDRESS:"",ULTRA_LEGENDS:[],LEGENDS:[],RARES:[],METADATA:[]}),O=Object(s.a)(x,2),m=O[0],v=O[1],C=Object(r.useState)([]),y=Object(s.a)(C,2),w=y[0],A=y[1],E=Object(r.useState)([]),T=Object(s.a)(E,2),S=T[0],N=T[1],_=Object(ce.b)(),R=_.Moralis,D=(_.isInitialized,Object(i.a)(_,ie),function(){var e=Object(o.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f("wallet"),l("Loading your wallet..."),t.smartContract.methods.walletOfOwner(t.account).call({to:m.CONTRACT_ADDRESS,from:t.account}).then(function(){var e=Object(o.a)(d.a.mark((function e(n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={address:t.account},e.prev=1,e.next=4,R.Web3API.resolve.resolveAddress(r);case 4:null!==(a=e.sent).name?l("Welcome to the Neighborhood "+a.name+"!"):l("Welcome to the Neighborhood "+t.account+"!"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l("Welcome to the Neighborhood "+t.account+"!");case 11:A(n.length>0?M(n):Object(oe.jsxs)("div",{children:[Object(oe.jsx)("p",{style:{marginBottom:"1em"},children:"You have no Clementine's Nightmare NFTs in this wallet."}),Object(oe.jsx)("p",{style:{margin:"1em"},children:"Visit the neighborhood on OpenSea!"}),Object(oe.jsx)("a",{target:"_blank",href:m.MARKETPLACE_LINK,children:Object(oe.jsx)("img",{alt:"opensea",src:"/config/images/opensea.png"})})]}));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),I=function(e){for(var t=[],n=0;n<e.result.length;n++)try{var r=JSON.parse(e.result[n].metadata),a="";if("pixelatedink.eth"===r.name||"clementinesnightmare.eth"===r.name)continue;var c=e.result[n].token_address.toLowerCase()===m.CONTRACT_ADDRESS.toLowerCase()?"https://clementinesnightmare.mypinata.cloud/ipfs/":"https://ipfs.io/ipfs/";void 0!==r.image?a=r.image.replace("ipfs://",c):void 0!==r.image_url?a=r.image_url.replace("ipfs://",c):void 0!==r.animation_url&&(a=r.animation_url.replace("ipfs://",c)),t.push({id:n,url:a,name:r.name,token_id:e.result[n].token_id,token_address:e.result[n].token_address})}catch(o){console.log(o)}return t.map((function(e){return Object(oe.jsxs)("div",{style:{margin:"10px",backgroundColor:"var(--primary)",borderRadius:15},children:[e.url.includes(".mp4")?Object(oe.jsxs)("video",{width:"250",height:"250",alt:e.name,style:{borderTopRightRadius:15,borderTopLeftRadius:15},controls:!0,children:[Object(oe.jsx)("source",{src:e.url,type:"video/mp4"}),"Your browser does not support the video tag."]}):Object(oe.jsx)("img",{alt:e.name,src:e.url,width:"250px",height:"250px",style:{borderTopRightRadius:15,borderTopLeftRadius:15}}),Object(oe.jsxs)("p",{style:{padding:"5px",color:e.color},children:[e.name," ",Object(oe.jsx)("a",{target:"_blank",href:"https://opensea.io/assets/"+e.token_address+"/"+e.token_id,children:Object(oe.jsx)("img",{style:{verticalAlign:"middle",height:"16px",width:"16px",marginLeft:"5px"},src:"/config/images/opensea-icon.png"})})]})]},e.id)}))},M=function(e){for(var t=[],n=0;n<e.length;n++){var r=parseInt(e[n],10),a=m.METADATA[r];t.push({id:r,url:a.image.replace("ipfs://","https://clementinesnightmare.mypinata.cloud/ipfs/"),name:a.name,color:K(r)})}return t.map((function(e){return Object(oe.jsxs)("div",{style:{margin:"10px",backgroundColor:"var(--primary)",borderRadius:15},children:[e.url.includes(".png")?Object(oe.jsx)("img",{alt:e.name,src:e.url,width:"250px",height:"250px",style:{borderTopRightRadius:15,borderTopLeftRadius:15}}):Object(oe.jsxs)("video",{width:"250",height:"250",alt:e.name,style:{borderTopRightRadius:15,borderTopLeftRadius:15},controls:!0,children:[Object(oe.jsx)("source",{src:e.url,type:"video/mp4"}),"Your browser does not support the video tag."]}),Object(oe.jsx)("p",{style:{padding:"5px",color:e.color},children:e.name})]},e.id)}))},K=function(e){return m.ULTRA_LEGENDS.includes(e)?"var(--ultra-text)":m.LEGENDS.includes(e)?"var(--legend-text)":m.RARES.includes(e)?"var(--rare-text)":"var(--primary-text)"},U=function(){""!==t.account&&null!==t.smartContract&&(e(k(t.account)),D())},F=function(){var e=Object(o.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/config/config.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,v(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){F()}),[]),Object(r.useEffect)((function(){U()}),[t.account]),Object(oe.jsx)(ee,{children:Object(oe.jsxs)(re,{flex:1,ai:"center",style:{padding:24,backgroundColor:"var(--primary)"},image:m.SHOW_BACKGROUND?"/config/images/bg.png":null,children:[Object(oe.jsx)(de,{flex:1,children:Object(oe.jsxs)(re,{flex:2,jc:"center",ai:"center",children:[Object(oe.jsx)(pe,{alt:"logo",src:"/config/images/logo.png"}),Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(te,{}),""===t.account||null===t.smartContract?Object(oe.jsxs)(re,{ai:"center",jc:"center",children:[Object(oe.jsxs)(ae,{style:{textAlign:"center",color:"var(--accent-text)"},children:["Connect to ",m.NETWORK.NAME,"."]}),Object(oe.jsx)(te,{}),Object(oe.jsx)(se,{onClick:function(t){t.preventDefault(),e(function(){var e=Object(o.a)(d.a.mark((function e(t){var n,r,a,c,o,i,s,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CONNECTION_REQUEST"}),e.next=3,fetch("/config/abi.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.next=9,fetch("/config/config.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 9:return a=e.sent,e.next=12,L.connect();case 12:return c=e.sent,e.next=15,a.json();case 15:if(o=e.sent,!c){e.next=35;break}return b.a.setProvider(c),i=new j.a(c),e.prev=19,e.next=22,i.eth.getAccounts();case 22:return s=e.sent,e.next=25,i.eth.net.getId();case 25:e.sent==o.NETWORK.ID?(l=new b.a(r,o.CONTRACT_ADDRESS),t({type:"CONNECTION_SUCCESS",payload:{account:s[0],smartContract:l,web3:i}}),c.on("accountsChanged",(function(e){t(Z(e[0]))})),c.on("chainChanged",(function(){window.location.reload()}))):t(X("Change network to ".concat(o.NETWORK.NAME,"."))),e.next=33;break;case 29:e.prev=29,e.t0=e.catch(19),console.log(e.t0),t(X("Something went wrong."));case 33:e.next=36;break;case 35:t(X("Install Metamask."));case 36:case"end":return e.stop()}}),e,null,[[19,29]])})));return function(t){return e.apply(this,arguments)}}()),U()},children:" "}),""!==t.errorMsg?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(te,{}),Object(oe.jsx)(ae,{style:{textAlign:"center",color:"var(--accent-text)"},children:t.errorMsg})]}):null]}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(re,{style:{flexFlow:"row wrap",maxWidth:"1200px",textAlign:"center",color:"var(--accent-text)"},ai:"center",jc:"center",fd:"row",children:[Object(oe.jsx)(le,{disabled:"wallet"==g?1:0,onClick:function(e){e.preventDefault(),D()}}),Object(oe.jsx)(ue,{disabled:"vault"==g?1:0,onClick:function(e){e.preventDefault(),function(){f("vault"),l("Loading vault...");var e={address:m.VAULT_ADDRESS};R.Web3API.account.getNFTs(e).then((function(e){l("Welcome to the Clementine's Nightmare Community Vault!"),N(e.result.length>0?I(e):Object(oe.jsx)("p",{children:"There are no NFTs in the vault."}))}))}()}})]}),Object(oe.jsx)(te,{}),Object(oe.jsx)(ae,{style:{textAlign:"center",color:"var(--accent-text)"},children:c}),Object(oe.jsx)(te,{}),"wallet"===g?Object(oe.jsx)(re,{style:{flexFlow:"row wrap",maxWidth:"1200px",textAlign:"center",color:"var(--accent-text)"},ai:"center",jc:"center",fd:"row",children:w}):Object(oe.jsx)(re,{style:{flexFlow:"row wrap",maxWidth:"1200px",textAlign:"center",color:"var(--accent-text)"},ai:"center",jc:"center",fd:"row",children:S})]})]}),Object(oe.jsx)(ne,{})]})}),Object(oe.jsx)(ne,{}),Object(oe.jsxs)(ae,{style:{textAlign:"center",color:"var(--accent-text)",lineHeight:"1.2em"},children:["COPYRIGHT \xa9 2021/2022.",Object(oe.jsx)("br",{}),"ALL RIGHTS RESERVED BY PIXELATED INK"]})]})})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1390)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};n(1382);c.a.render(Object(oe.jsx)(p.a,{store:T,children:Object(oe.jsx)(ce.a,{appId:"2WUT4CKa3t3Gs3yw8msHrSR4YYZIGfqPlb1N8qsh",serverUrl:"https://guj88dedqrr7.usemoralis.com:2053/server",children:Object(oe.jsx)(he,{})})}),document.getElementById("root")),be()},629:function(e,t){},632:function(e,t){},634:function(e,t){},638:function(e,t){},663:function(e,t){},665:function(e,t){},679:function(e,t){},681:function(e,t){},710:function(e,t){},712:function(e,t){},801:function(e,t){},802:function(e,t){},894:function(e,t){}},[[1383,1,2]]]);
//# sourceMappingURL=main.c91142ab.chunk.js.map